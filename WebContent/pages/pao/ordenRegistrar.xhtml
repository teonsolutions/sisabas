<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" lang="es"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:func="http://resources/functions"
	xmlns:cc="http://java.sun.com/jsf/composite/components"
	template="/pages/template/MasterPage.xhtml">
	<ui:define name="center">
		<h:form id="form">
			<p:growl id="msgs" showDetail="true"></p:growl>
			<p:growl id="growl" showDetail="true" for="growl" />
			<p:panel id="panel" header="Programación y costos > pao >Orden">
				<p:focus for="panel" />
				<p:tabView id="tabViewPao">
					<p:tab title="Datos generales">
						<p:accordionPanel multiple="true" activeIndex="0,1,2,3,4">
							<p:tab title="Identificación">
								<p:dataTable id="tblListaPedidos"
									value="#{programacion.currentPao.compraDirecta.pedidos}"
									var="var" widgetVar="tblListaPedidos"
									emptyMessage="No se encontraron registros"
									selectionMode="single" rowKey="#{var.nroPedido}"
									styleClass="gandalfTableClass">
									<!--  
								<p:ajax event="rowSelect" update=":form:pnlBotones" immediate="true"/>
								-->
									<p:column styleClass="c_string" headerText="N° Pedido">
										<f:facet name="header">
											<h:outputText value="N° Pedido" />
										</f:facet>
										<h:outputText value="#{var.nroPedido}" />
									</p:column>
									<p:column headerText="Oficina Usuaria">
										<f:facet name="header">
											<h:outputText value="Oficina Usuaria" />
										</f:facet>
										<h:outputText value="#{var.centroCostoDesc}" />
									</p:column>
									<p:column headerText="Descripción">
										<f:facet name="header">
											<h:outputText value="Descripción" />
										</f:facet>
										<h:outputText value="#{var.motivoPedido}" />
									</p:column>
									<p:column headerText="Estado">
										<f:facet name="header">
											<h:outputText value="Estado" />
										</f:facet>
										<h:outputText value="#{var.descripcionEstadoPorEtapa}" />
									</p:column>
									<p:column headerText="Sinad">
										<f:facet name="header">
											<h:outputText value="Sinad" />
										</f:facet>
										<h:outputText value="#{var.numeroExpedienteSinad}" />
									</p:column>
									<p:column headerText="Principal">
										<f:facet name="header">
											<h:outputText value="Principal" />
										</f:facet>
										<h:outputText value="#{var.esPrincipal}" />
									</p:column>
								</p:dataTable>
								<p:panel>
									<p:outputLabel value="Fecha de recepción"
										for="txtFechaRecepcion" id="lblFechaRecepcion" />
									<p:inputText id="txtFechaRecepcion" required="true"
										value="#{programacion.currentPao.compraDirecta.fechaDocumentoTecnico}"
										maxlength="10" style="width:150px;" label="Fecha de recepción"
										disabled="true" />
								</p:panel>
							</p:tab>
							<p:tab title="Control de producto">
								<p:dataTable>
									<p:column headerText="N°">
										<h:outputText value="1" />
									</p:column>
									<p:column headerText="Tipo de documento">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Acciones">
										<p:rowEditor></p:rowEditor>
									</p:column>
									<p:ajax event="rowEdit"></p:ajax>
								</p:dataTable>
							</p:tab>
							<p:tab title="PAO">
								<table style="width: 100%;" cellpadding="0" cellspacing="5"
									border="0">
									<tr>
										<td><p:outputLabel value="Número PAO" for="txtNumeroPAO"
												id="lblNumeroPAO" /></td>
										<td><p:outputLabel value="Fecha PAO" for="txtFechaPAO"
												id="lblFechaPAO" /></td>

										<td><p:outputLabel value="Monto del PAO"
												for="txtMontoPAO" id="lblMontoPAO" /></td>
									</tr>
									<tr>
										<td><p:inputText id="txtNumeroPAO" required="true"
												maxlength="10" style="width:150px;" label="Número PAO"
												disabled="true"
												value="#{programacion.currentPao.nroConsolid}" /></td>
										<td><p:inputText id="txtFechaPAO" required="true"
												maxlength="10" style="width:150px;" label="Fecha PAO"
												disabled="true"
												value="#{programacion.currentPao.compraDirecta.fechaPao}">
												<f:convertDateTime pattern="dd/MM/yyyy" />
											</p:inputText></td>
										<td><p:inputNumber id="txtMontoPAO" required="true"
												maxlength="10" style="width:150px;" label="Monto del PAO"
												disabled="true"
												value="#{programacion.currentPao.valorMoneda}" /></td>
									</tr>
									<tr>
										<td colspan="3"><p:outputLabel
												value="Descripción del PAO" for="txtDescripcionPAO"
												id="lblDescripcionPAO" /></td>
									</tr>
									<tr>
										<td colspan="3"><p:inputTextarea id="txtDescripcionPAO"
												rows="5" cols="50" queryDelay="750" minQueryLength="4"
												disabled="true"
												value="#{programacion.currentPao.compraDirecta.especificacionTecnica}"
												style="width: 100%" /></td>
									</tr>
									<tr>
										<td colspan="3"><p:outputLabel value="Items"
												id="lblItems" /></td>
									</tr>
									<tr>
										<td colspan="3"><p:dataTable id="tblListaItems"
												value="#{programacion.currentPao.compraDirecta.items}"
												var="var" emptyMessage="No se encontraron registros"
												selectionMode="single" rowKey="#{var.item}"
												styleClass="gandalfTableClass">
												<p:column styleClass="c_string" headerText="Item">
													<f:facet name="header">
														<h:outputText value="Item" />
													</f:facet>
													<h:outputText value="#{var.item}" />
												</p:column>
												<p:column headerText="Descripción">
													<f:facet name="header">
														<h:outputText value="Descripción" />
													</f:facet>
													<h:outputText value="#{var.nombreItem}" />
												</p:column>
												<p:column headerText="Cantidad">
													<f:facet name="header">
														<h:outputText value="Cantidad" />
													</f:facet>
													<h:outputText value="#{var.cantidad}" />
												</p:column>
												<p:column headerText="Monto">
													<f:facet name="header">
														<h:outputText value="Monto" />
													</f:facet>
													<h:outputText value="#{var.monto}" />
												</p:column>
											</p:dataTable></td>
									</tr>
								</table>
							</p:tab>
							<p:tab title="Certificación">
								<table style="width: 100%;" cellpadding="0" cellspacing="5"
									border="0">
									<tr>
										<td><p:outputLabel value="Número de CPP"
												for="txtNumeroCPP" id="lblNumeroCPP" /></td>
										<td><p:outputLabel value="Fecha aprobación"
												for="txtFechaAprobacionCPP" id="lblFechaAprobacionCPP" /></td>

										<td><p:outputLabel value="Monto certificado"
												for="txtMontoCertificado" id="lblMontoCertificado" /></td>
									</tr>
									<tr>
										<td><p:inputText id="txtNumeroCPP" required="true"
												maxlength="10" style="width:150px;" label="Número de CPP"
												disabled="true"
												value="#{programacion.currentPao.compraDirecta.nroCP}" /></td>
										<td><p:inputText id="txtFechaAprobacionCPP"
												required="true" maxlength="10" style="width:150px;"
												label="Fecha aprobación" disabled="true"
												value="#{programacion.currentPao.compraDirecta.fechaCP}">
												<f:convertDateTime pattern="dd/MM/yyyy" />
											</p:inputText></td>
										<td><p:inputNumber id="txtMontoCertificado"
												required="true" maxlength="10" style="width:150px;"
												label="Monto certificado" disabled="true"
												value="#{programacion.currentPao.compraDirecta.montoCP}" /></td>
									</tr>
									<tr>
										<td colspan="3"><p:dataTable id="tblListaCertificacion"
												value="#{programacion.currentPao.compraDirecta.certificacionItems}"
												var="var" emptyMessage="No se encontraron registros"
												selectionMode="single" rowKey="#{var.nroCP}"
												styleClass="gandalfTableClass">
												<p:column headerText="Código">
													<f:facet name="header">
														<h:outputText value="Código" />
													</f:facet>
													<h:outputText value="#{var.nroCP}" />
												</p:column>
												<p:column headerText="Fuente de financiamiento">
													<f:facet name="header">
														<h:outputText value="Fuente de financiamiento" />
													</f:facet>
													<h:outputText value="#{var.fuenteFinanciamiento}" />
												</p:column>
												<p:column headerText="Código de cadena">
													<f:facet name="header">
														<h:outputText value="Código de cadena" />
													</f:facet>
													<h:outputText value="#{var.secuenciaFunc}" />
												</p:column>
												<p:column headerText="Clasificador">
													<f:facet name="header">
														<h:outputText value="Clasificador" />
													</f:facet>
													<h:outputText value="#{var.clasificador}" />
												</p:column>
												<p:column headerText="Monto">
													<f:facet name="header">
														<h:outputText value="Monto" />
													</f:facet>
													<h:outputText value="#{var.valor}" />
												</p:column>
											</p:dataTable></td>
									</tr>
								</table>
							</p:tab>
							<p:tab title="Proceso">
								<table style="width: 100%;" cellpadding="0" cellspacing="5"
									border="0">
									<tr>
										<td><p:outputLabel value="Tipo de adquisión"
												for="txtTipoAdquisicion" id="lblTipoAdquisicion" /></td>
										<td><p:outputLabel value="Es compra directa ?"
												id="lblCompraDirecta" /></td>

										<td><p:outputLabel value="Número de proceso"
												for="txtNumeroProceso" id="lblNumeroProceso" /></td>
									</tr>
									<tr>
										<td><p:inputText id="txtTipoAdquisicion" required="true"
												maxlength="10" style="width:200px;"
												label="Tipo de adquisión" disabled="true"
												value="ADQUISICIÓN SIN PROCESO" /></td>
										<td><p:outputPanel id="customPanel"
												style="margin-bottom:10px">
												<!--  
												<p:outputLabel for="compraDirectaRadio" value="Es compra directa ?" />
												-->
												<p:selectOneRadio id="compraDirectaRadio" layout="custom"
													value="#{programacion.currentPao.compraDirecta.flagCD}">
													<f:selectItem itemLabel="SI" itemValue="1" />
													<f:selectItem itemLabel="NO" itemValue="0" />
												</p:selectOneRadio>
												<h:panelGrid columns="4" cellpadding="5">
													<p:radioButton id="opt1" for="compraDirectaRadio"
														itemIndex="0" />
													<h:outputLabel for="opt1" value="Si" />

													<p:radioButton id="opt2" for="compraDirectaRadio"
														itemIndex="1" />
													<h:outputLabel for="opt2" value="No" />

												</h:panelGrid>
											</p:outputPanel></td>
										<td><p:inputNumber id="txtNumeroProceso" required="true"
												value="#{programacion.currentPao.compraDirecta.nroProceso}"
												maxlength="10" style="width:150px;"
												label="Número de proceso" decimalPlaces="0" /></td>
									</tr>

								</table>
							</p:tab>
						</p:accordionPanel>
						<p:commandButton value="Guardar" icon="fa fa-pencil"
							title="Guardar datos generales"
							disabled="#{!programacion.esSeleccionado}"
							action="#{programacion.guardarDatosGenerales}"
							rendered="#{programacion.renderButton('btnGuadarDatosGenerales')}"
							update="form:msgs" />
						<p:commandButton value="Cancelar" action="#{programacion.load}"
							ajax="false" icon="ui-icon-arrowreturnthick-1-w" title="Cancelar" />
					</p:tab>
					<p:tab title="Estudio del mercado"
						disabled="#{programacion.disabledTabEstudioMercado}">
						<p:fieldset>
							<p:panel id="pnlBotones" styleClass="gandalfPnlBotonesClass">
								<p:commandButton value="Nuevo"
									action="#{programacion.irRegistrarFuente}"
									update="hidStatus,:frmCuadrocomparativofuenteRegistrar:diCuadrocomparativofuenteRegistrar"
									oncomplete="showDialog('form:tabViewPao:hidStatus','frmCuadrocomparativofuenteRegistrar:diCuadrocomparativofuenteRegistrar');"
									icon="ui-icon-document"
									rendered="#{programacion.renderButton('btnNuevoEM')}" />

								<p:commandButton value="Editar"
									action="#{cuadrocomparativofuente.irEditar}"
									update="hidStatus,:frmCuadrocomparativofuenteRegistrar:diCuadrocomparativofuenteRegistrar"
									oncomplete="showDialog('form:hidStatus','frmCuadrocomparativofuenteRegistrar:diCuadrocomparativofuenteRegistrar');"
									icon="ui-icon-pencil"
									disabled="#{!cuadrocomparativofuente.esSeleccionado}"
									rendered="#{cuadrocomparativofuente.renderButton('btnEditar')}" />
								<p:commandButton value="Eliminar"
									action="#{cuadrocomparativofuente.irEliminar}"
									update="hidStatus"
									oncomplete="showDialog('form:hidStatus','form:cdEliminar');"
									icon="ui-icon-circle-close" title="Eliminar"
									disabled="#{!cuadrocomparativofuente.esSeleccionado}"
									rendered="#{cuadrocomparativofuente.renderButton('btnEliminar')}" />
								<h:inputHidden id="hidStatus" value="true" />
							</p:panel>


							<p:dataTable id="tblListaCuadrocomparativofuente">
								<p:column headerText="N°">
									<h:outputText value="1" />
								</p:column>
								<p:column headerText="Fuente">
									<h:outputText value="UGME" />
								</p:column>
								<p:column headerText="Proveedor / postor / entidad">
									<h:outputText value="UGME" />
								</p:column>
								<p:column headerText="Acciones">
									<h:outputText value="UGME" />
								</p:column>
							</p:dataTable>

							<p:outputLabel value="Items" id="lblItems" />
							<h:panelGrid columns="2">
								<p:dataTable>
									<p:column headerText="N°">
										<h:outputText value="1" />
									</p:column>
									<p:column headerText="Descripción / denominación">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Unidad">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Cantidad">
										<h:outputText value="UGME" />
									</p:column>
									<p:column
										headerText="Precio Total (Consignar moneda del valor referencial)">
										<h:outputText value="UGME" />
									</p:column>
									<p:column
										headerText="Procedimiento y/o metodología utilizadopara determinar el V.R.">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Valor Referencial del Item">
										<h:outputText value="UGME" />
									</p:column>
								</p:dataTable>
							</h:panelGrid>
						</p:fieldset>
					</p:tab>
					<p:tab title="Orden" disabled="#{programacion.disabledTabOrden}">
						<p:accordionPanel multiple="true" activeIndex="0,1,2,3">
							<p:tab title="Orden">
								<p:dataTable>
									<p:column headerText="N°">
										<h:outputText value="1" />
									</p:column>
									<p:column headerText="Número Orden">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Fecha Orden">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Tipo de bien">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="RUC">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Proveedor">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Importe Orden">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Importe devengado">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Expediente SIAF">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Estado SIAF">
										<h:outputText value="UGME" />
									</p:column>
								</p:dataTable>
								<p:dataTable>
									<p:column headerText="N°">
										<h:outputText value="1" />
									</p:column>
									<p:column headerText="Número Orden">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Aramadas">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Inicio de prestación">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Plazo">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Fin prestación">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Acciones">
										<h:outputText value="UGME" />
									</p:column>
								</p:dataTable>
							</p:tab>
						</p:accordionPanel>
						<p:accordionPanel multiple="true" activeIndex="0,1,2,3,4">
							<p:tab title="Control de entregables">
								<p:dataTable>
									<p:column headerText="N°">
										<h:outputText value="1" />
									</p:column>
									<p:column headerText="proveido">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Fecha">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Descripción">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Plazos (días)">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Importe">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Monto de penalidad">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Observaciones">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Estado">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Acciones">
										<h:outputText value="UGME" />
									</p:column>
								</p:dataTable>
							</p:tab>
						</p:accordionPanel>
						<p:accordionPanel multiple="true" activeIndex="0,1,2,3,4">
							<p:tab title="Requisitos de conformidad">
								<p:dataTable>
									<p:column headerText="N°">
										<h:outputText value="1" />
									</p:column>
									<p:column headerText="Tipo de documento">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Fecha">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Archivo">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Acciones">
										<h:outputText value="UGME" />
									</p:column>
								</p:dataTable>
							</p:tab>
						</p:accordionPanel>
						<p:accordionPanel multiple="true" activeIndex="0,1,2,3,4">
							<p:tab title="Seguimiento de pagos">
								<p:dataTable>
									<p:column headerText="N°">
										<h:outputText value="1" />
									</p:column>
									<p:column headerText="Ciclo">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Fase">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Tipo de documento">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Número documento">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Fecha">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Monto">
										<h:outputText value="UGME" />
									</p:column>
								</p:dataTable>
							</p:tab>
						</p:accordionPanel>
					</p:tab>
				</p:tabView>
			</p:panel>
		</h:form>
		<h:form id="frmCuadrocomparativofuenteRegistrar">
			<p:dialog id="diCuadrocomparativofuenteRegistrar"
				header="Registro de Estudio del Mercado"
				widgetVar="diCuadrocomparativofuenteRegistrar" resizable="false"
				modal="true" dynamic="true">
				<p:scrollPanel mode="native" style="width:100%;height:100%;">
					<p:messages for="msgsCuadrocomparativofuenteR" autoUpdate="true"
						closable="true" />
					<ui:include
						src="/pages/pao/component/c_cuadrocomparativofuenteRegistrar.xhtml" />
				</p:scrollPanel>
				<table style="width: 100%;">
					<tr>
						<td><h:inputHidden id="hidStatus" value="true" /> <p:commandButton
								value="Aceptar" action="#{cuadrocomparativofuente.aceptar}"
								update="hidStatus,:form:tblListaCuadrocomparativofuente,:form:growl,:form:pnlBotones,panelC"
								oncomplete="hideDialog('frmCuadrocomparativofuenteRegistrar:hidStatus','frmCuadrocomparativofuenteRegistrar:diCuadrocomparativofuenteRegistrar')"
								icon="ui-icon-circle-check" title="Aceptar" /></td>
						<td>
							<div align="right">
								<p:commandButton value="Salir"
									icon="ui-icon-arrowreturnthick-1-w" title="Salir"
									onclick="hideDialogPF('frmCuadrocomparativofuenteRegistrar:diCuadrocomparativofuenteRegistrar');return false;" />
							</div>
						</td>
					</tr>
				</table>
			</p:dialog>
		</h:form>
	</ui:define>

</ui:composition>