<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" lang="es"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:func="http://resources/functions"
	xmlns:cc="http://java.sun.com/jsf/composite/components"
	template="/pages/template/MasterPage.xhtml">
	<ui:define name="center">
		<style>
.ui-panelgrid td, .ui-panelgrid tr {
	border-style: none !important
}

.fa-remove {
	color: red;
}

.ui-tabs-outline {
	color: #000;
}
/*
.ui-accordion .ui-accordion-header {
	cursor: pointer;
	position: relative;
	margin-top: 1px;
	min-height: 0;
	padding: .5em .5em .5em 2.2em;
	background: #0d6ab9;
	color: #ffffff;
}

.ui-accordion .ui-accordion-header.ui-state-active {
	background: #fff;
	border-left: 0 none;
	border-right: 0 none;
	-webkit-border-radius: 0;
	-moz-border-radius: 0;
	border-radius: 0;
	background: #0d6ab9;
}
*/
</style>
		<h:form id="form">
			<p:growl id="msgs" showDetail="true"></p:growl>
			<p:growl id="growl" showDetail="true" for="growl" />
			<p:panel id="panel" header="Programación y costos > pao >Orden"
				style="width: 85%">
				<div align="right">
					<p:commandButton value="Ir al listado" icon="fa fa-th-list"
						title="Ir al listado" action="#{programacion.load}"
						process="@this">
					</p:commandButton>
				</div>
				<p:spacer height="1"></p:spacer>				
				<p:focus for="panel" />
				<p:tabView id="tabViewPao">
					<p:tab title="Datos generales">
						<p:accordionPanel id="accDatosGenerales" multiple="true"
							activeIndex="0,1,2,3,4">
							<p:tab title="Identificación">
								<p:dataTable id="tblListaPedidos"
									value="#{programacion.currentPao.compraDirecta.pedidos}"
									var="var" widgetVar="tblListaPedidos"
									emptyMessage="No se encontraron registros"
									selectionMode="single" rowKey="#{var.nroPedido}"
									styleClass="gandalfTableClass">
									<!--  
								<p:ajax event="rowSelect" update=":form:pnlBotones" immediate="true"/>
								-->
									<p:column styleClass="c_string" headerText="N° Pedido">
										<f:facet name="header">
											<h:outputText value="N° Pedido" />
										</f:facet>
										<h:outputText value="#{var.nroPedido}" />
									</p:column>
									<p:column headerText="Oficina Usuaria">
										<f:facet name="header">
											<h:outputText value="Oficina Usuaria" />
										</f:facet>
										<h:outputText value="#{var.centroCostoDesc}" />
									</p:column>
									<p:column headerText="Descripción">
										<f:facet name="header">
											<h:outputText value="Descripción" />
										</f:facet>
										<h:outputText value="#{var.motivoPedido}" />
									</p:column>
									<p:column headerText="Estado">
										<f:facet name="header">
											<h:outputText value="Estado" />
										</f:facet>
										<h:outputText value="#{var.descripcionEstadoPorEtapa}" />
									</p:column>
									<p:column headerText="Sinad">
										<f:facet name="header">
											<h:outputText value="Sinad" />
										</f:facet>
										<h:outputText value="#{var.numeroExpedienteSinad}" />
									</p:column>
									<p:column headerText="Principal">
										<f:facet name="header">
											<h:outputText value="Principal" />
										</f:facet>
										<h:outputText value="#{var.esPrincipal}" />
									</p:column>
								</p:dataTable>
								<p:panel>
									<p:outputLabel value="Fecha de recepción"
										for="txtFechaRecepcion" id="lblFechaRecepcion" />
									<p:inputText id="txtFechaRecepcion" required="true"
										value="#{programacion.currentPao.compraDirecta.fechaDocumentoTecnico}"
										maxlength="10" style="width:150px;" label="Fecha de recepción"
										disabled="true">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</p:inputText>
								</p:panel>
							</p:tab>
							<p:tab title="Control de producto">
								<p:panel id="pnlBotonesControl"
									styleClass="gandalfPnlBotonesClass">
									<div align="right">
										<p:commandButton value="Agregar"
											action="#{programacion.irRegistrarControl}"
											update="hidStatus,:frmControlProductoRegistrar:diControlProductoRegistrar"
											oncomplete="showDialog('form:tabViewPao:hidStatus','frmControlProductoRegistrar:diControlProductoRegistrar');"
											icon="ui-icon-document"
											rendered="#{programacion.renderButton('btnNuevoControl')}" />
										<h:inputHidden id="hidStatus" value="true" />
									</div>
								</p:panel>
								<p:spacer height="5" />
								<p:dataTable id="tblListaControl"
									value="#{programacion.currentPao.listaRequisitosConformidad}"
									var="var" emptyMessage="No se encontraron registros"
									widgetVar="tblListaControl" paginator="false"
									rows="#{sisabascontrol.registros_mant}"
									paginatorPosition="bottom" selectionMode="single"
									rowKey="#{var.idrequisitoconformidad}"
									styleClass="gandalfTableClass" editable="true">
									<p:ajax event="rowSelect"
										listener="#{programacion.seleccionItemRequisito}"
										update=":form:tabViewPao:accDatosGenerales:pnlBotonesControl"
										immediate="true" />

									<p:ajax event="rowEdit" listener="#{programacion.onRowEdit2}"
										update=":form:msgs,form:tabViewPao:accDatosGenerales:tblListaControl" />
									<p:ajax event="rowEditCancel"
										listener="#{programacion.onRowCancel2}" update=":form:msgs" />

									<p:column headerText="Tipo de documento" style="width: 90%">
										<p:cellEditor>
											<f:facet name="header">
												<f:facet name="output">
													<h:outputText value="#{var.tipodocumentodesc}" />
												</f:facet>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{var.idcatalogotipodocumento}"
													id="ddlTipoDocumento" required="false"
													label="Tipo de documento" style="width: 95%">
													<f:selectItem itemLabel="--Seleccione--" itemValue="" />
													<f:selectItems
														value="#{programacion.listaGentablaIdcatalogotipodocumento}"
														var="var" itemLabel="#{var.vchregdescri}"
														itemValue="#{var.vchregcodigo}" />
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Acciones">
										<p:rowEditor editTitle="Editar" />
									</p:column>
								</p:dataTable>
							</p:tab>
							<p:tab title="PAO">
								<table style="width: 100%;" cellpadding="0" cellspacing="5"
									border="0">
									<tr>
										<td><p:outputLabel value="Número PAO" for="txtNumeroPAO"
												id="lblNumeroPAO" /></td>
										<td><p:outputLabel value="Fecha PAO" for="txtFechaPAO"
												id="lblFechaPAO" /></td>

										<td><p:outputLabel value="Monto del PAO"
												for="txtMontoPAO" id="lblMontoPAO" /></td>
									</tr>
									<tr>
										<td><p:inputText id="txtNumeroPAO" required="true"
												maxlength="10" style="width:150px;" label="Número PAO"
												disabled="true"
												value="#{programacion.currentPao.nroConsolid}" /></td>
										<td><p:inputText id="txtFechaPAO" required="true"
												maxlength="10" style="width:150px;" label="Fecha PAO"
												disabled="true"
												value="#{programacion.currentPao.compraDirecta.fechaPao}">
												<f:convertDateTime pattern="dd/MM/yyyy" />
											</p:inputText></td>
										<td><p:inputNumber id="txtMontoPAO" required="true"
												maxlength="10" style="width:150px;" label="Monto del PAO"
												disabled="true"
												value="#{programacion.currentPao.valorMoneda}" /></td>
									</tr>
									<tr>
										<td colspan="3"><p:outputLabel
												value="Descripción del PAO" for="txtDescripcionPAO"
												id="lblDescripcionPAO" /></td>
									</tr>
									<tr>
										<td colspan="3"><p:inputTextarea id="txtDescripcionPAO"
												rows="5" cols="50" queryDelay="750" minQueryLength="4"
												disabled="true"
												value="#{programacion.currentPao.compraDirecta.especificacionTecnica}"
												style="width: 100%" /></td>
									</tr>
									<tr>
										<td colspan="3"><p:outputLabel value="Valor Referencial"
												id="lblItems" /></td>
									</tr>
									<tr>
										<td colspan="3"><p:dataTable id="tblListaItems"
												value="#{programacion.currentPao.compraDirecta.items}"
												var="var" emptyMessage="No se encontraron registros"
												selectionMode="single" rowKey="#{var.item}"
												styleClass="gandalfTableClass">
												<p:column styleClass="c_string" headerText="Item">
													<f:facet name="header">
														<h:outputText value="Item" />
													</f:facet>
													<h:outputText value="#{var.item}" />
												</p:column>
												<p:column headerText="Descripción">
													<f:facet name="header">
														<h:outputText value="Descripción" />
													</f:facet>
													<h:outputText value="#{var.nombreItem}" />
												</p:column>
												<p:column headerText="Cantidad">
													<f:facet name="header">
														<h:outputText value="Cantidad" />
													</f:facet>
													<h:outputText value="#{var.cantidad}" />
												</p:column>
												<p:column headerText="Monto">
													<f:facet name="header">
														<h:outputText value="Monto" />
													</f:facet>
													<h:outputText value="#{var.monto}" />
												</p:column>
											</p:dataTable></td>
									</tr>
								</table>
							</p:tab>
							<p:tab title="Certificación">
								<table style="width: 100%;" cellpadding="0" cellspacing="5"
									border="0">
									<tr>
										<td><p:outputLabel value="Número de CPP"
												for="txtNumeroCPP" id="lblNumeroCPP" /></td>
										<td><p:outputLabel value="Fecha aprobación"
												for="txtFechaAprobacionCPP" id="lblFechaAprobacionCPP" /></td>

										<td><p:outputLabel value="Monto certificado"
												for="txtMontoCertificado" id="lblMontoCertificado" /></td>
									</tr>
									<tr>
										<td><p:inputText id="txtNumeroCPP" required="true"
												maxlength="10" style="width:150px;" label="Número de CPP"
												disabled="true"
												value="#{programacion.currentPao.compraDirecta.nroCP}" /></td>
										<td><p:inputText id="txtFechaAprobacionCPP"
												required="true" maxlength="10" style="width:150px;"
												label="Fecha aprobación" disabled="true"
												value="#{programacion.currentPao.compraDirecta.fechaCP}">
												<f:convertDateTime pattern="dd/MM/yyyy" />
											</p:inputText></td>
										<td><p:inputNumber id="txtMontoCertificado"
												required="true" maxlength="10" style="width:150px;"
												label="Monto certificado" disabled="true"
												value="#{programacion.currentPao.compraDirecta.montoCP}" /></td>
									</tr>
									<tr>
										<td colspan="3"><p:dataTable id="tblListaCertificacion"
												value="#{programacion.currentPao.compraDirecta.certificacionItems}"
												var="var" emptyMessage="No se encontraron registros"
												selectionMode="single" rowKey="#{var.nroCP}"
												styleClass="gandalfTableClass">
												<p:column headerText="Código">
													<f:facet name="header">
														<h:outputText value="Código" />
													</f:facet>
													<h:outputText value="#{var.nroCP}" />
												</p:column>
												<p:column headerText="Fuente de financiamiento">
													<f:facet name="header">
														<h:outputText value="Fuente de financiamiento" />
													</f:facet>
													<h:outputText value="#{var.fuenteFinanciamiento}" />
												</p:column>
												<p:column headerText="Código de cadena">
													<f:facet name="header">
														<h:outputText value="Código de cadena" />
													</f:facet>
													<h:outputText value="#{var.secuenciaFunc}" />
												</p:column>
												<p:column headerText="Clasificador">
													<f:facet name="header">
														<h:outputText value="Clasificador" />
													</f:facet>
													<h:outputText value="#{var.clasificador}" />
												</p:column>
												<p:column headerText="Monto">
													<f:facet name="header">
														<h:outputText value="Monto" />
													</f:facet>
													<h:outputText value="#{var.valor}" />
												</p:column>
											</p:dataTable></td>
									</tr>
								</table>
							</p:tab>
							<p:tab title="Proceso">
								<table style="width: 100%;" cellpadding="0" cellspacing="5"
									border="0">
									<tr>
										<td><p:outputLabel value="Tipo de adquisión"
												for="txtTipoAdquisicion" id="lblTipoAdquisicion" /></td>
										<td><p:outputLabel value="Es compra directa ?"
												id="lblCompraDirecta" /></td>

										<td><p:outputLabel value="Número de proceso"
												for="txtNumeroProceso" id="lblNumeroProceso" /></td>
									</tr>
									<tr>
										<td><p:inputText id="txtTipoAdquisicion" required="true"
												maxlength="10" style="width:200px;"
												label="Tipo de adquisión" disabled="true"
												value="ADQUISICIÓN SIN PROCESO" /></td>
										<td><p:outputPanel id="customPanel"
												style="margin-bottom:10px">
												<!--  
												<p:outputLabel for="compraDirectaRadio" value="Es compra directa ?" />
												-->
												<p:selectOneRadio id="compraDirectaRadio" layout="custom"
													value="#{programacion.currentPao.compraDirecta.flagCD}">
													<f:selectItem itemLabel="SI" itemValue="1" />
													<f:selectItem itemLabel="NO" itemValue="0" />
												</p:selectOneRadio>
												<h:panelGrid columns="4" cellpadding="5">
													<p:radioButton id="opt1" for="compraDirectaRadio"
														itemIndex="0" />
													<h:outputLabel for="opt1" value="Si" />

													<p:radioButton id="opt2" for="compraDirectaRadio"
														itemIndex="1" />
													<h:outputLabel for="opt2" value="No" />

												</h:panelGrid>
											</p:outputPanel></td>
										<td><p:inputNumber id="txtNumeroProceso"
												value="#{programacion.currentPao.compraDirecta.nroProceso}"
												maxlength="10" style="width:150px;"
												label="Número de proceso" decimalPlaces="0" /></td>
									</tr>

								</table>
							</p:tab>
						</p:accordionPanel>
						<p:commandButton value="Guardar" icon="fa fa-save"
							title="Guardar datos generales"
							disabled="#{programacion.disabledButtonsCD}"
							action="#{programacion.guardarDatosGenerales}"
							rendered="#{programacion.renderButton('btnGuadarDatosGenerales')}"
							update="form:msgs" />
						<p:commandButton value="Cancelar" action="#{programacion.load}"
							ajax="false" icon="ui-icon-arrowreturnthick-1-w" title="Cancelar" />
					</p:tab>
					<p:tab title="Estudio del mercado"
						disabled="#{programacion.disabledTabEstudioMercado}">
						<p:fieldset>
							<div align="left">
								<p:panel id="pnlBotones" styleClass="gandalfPnlBotonesClass">
									<p:commandButton value="Nuevo"
										action="#{programacion.irRegistrarFuente}"
										update="hidStatus,:frmCuadrocomparativofuenteRegistrar:diCuadrocomparativofuenteRegistrar"
										disabled="#{programacion.disabledButtonsCD}"
										oncomplete="showDialog('form:tabViewPao:hidStatus','frmCuadrocomparativofuenteRegistrar:diCuadrocomparativofuenteRegistrar');"
										icon="ui-icon-document"
										rendered="#{programacion.renderButton('btnNuevoEM')}" />
									<p:commandButton value="Editar"
										action="#{programacion.irEditarFuente}"
										update="hidStatus,:frmCuadrocomparativofuenteRegistrar:diCuadrocomparativofuenteRegistrar"
										oncomplete="showDialog('form:tabViewPao:hidStatus','frmCuadrocomparativofuenteRegistrar:diCuadrocomparativofuenteRegistrar');"
										icon="ui-icon-pencil"
										disabled="#{!programacion.esSeleccionadoFuente}"
										rendered="#{programacion.renderButton('btnEditarEM')}" />
									<p:commandButton value="Eliminar"
										action="#{programacion.irEliminarFuente}" update="hidStatus"
										oncomplete="showDialog('form:tabViewPao:hidStatus','form:cdEliminarFuente');"
										icon="ui-icon-circle-close" title="Eliminar"
										disabled="#{!programacion.esSeleccionadoFuente or programacion.disabledButtonsCD}"
										rendered="#{programacion.renderButton('btnEliminarEM')}" />
									<h:inputHidden id="hidStatus" value="true" />
								</p:panel>
							</div>

							<p:dataTable id="tblListaCuadrocomparativofuente"
								value="#{programacion.listaCuadrocomparativofuente}" var="var"
								emptyMessage="No se encontraron registros"
								widgetVar="tblListaCuadrocomparativofuente"
								selection="#{programacion.selectedCuadrocomparativofuente}"
								paginator="true" rows="#{sisabascontrol.registros_mant}"
								paginatorPosition="bottom"
								paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} Total registros: #{fn:length(programacion.listaCuadrocomparativofuente)}"
								selectionMode="single" rowKey="#{var.idcuadrocomparativofuente}"
								styleClass="gandalfTableClass">
								<p:ajax event="rowSelect"
									listener="#{programacion.seleccionItemFuente}"
									update=":form:tabViewPao:pnlBotones" immediate="true" />
								<p:column headerText="Fuente">
									<f:facet name="header">
										<h:outputText value="Fuente"></h:outputText>
									</f:facet>
									<h:outputText
										value="#{var.gentablaIdcatalogotipofuente.vchregdescri}" />
								</p:column>
								<p:column headerText="Proveedor / Postor / Entidad">
									<f:facet name="header">
										<h:outputText value="Proveedor / Postor / Entidad"></h:outputText>
									</f:facet>
									<h:outputText value="#{var.nombreproveedor}" />
								</p:column>
							</p:dataTable>

							<p:outputLabel value="Items" id="lblItems" />
							<h:panelGrid columns="2">
								<p:dataTable id="tblListaCuadrocomparativoVrFinal"
									value="#{programacion.listaCuadroComparativoVrFinal}" var="var"
									emptyMessage="No se encontraron registros"
									widgetVar="tblListaCuadrocomparativoVrFinal" paginator="false"
									rows="#{sisabascontrol.registros_mant}"
									paginatorPosition="bottom"
									paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} Total registros: #{fn:length(programacion.listaCuadroComparativoVrFinal)}"
									selectionMode="single" rowKey="#{var.idCuadroComparativoVR}"
									styleClass="gandalfTableClass">
									<p:column headerText="Descripción / denominación">
										<f:facet name="header">
											<h:outputText value="Descripción / denominación"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.nombreItem}" />
									</p:column>
									<p:column headerText="Unidad">
										<f:facet name="header">
											<h:outputText value="Unidad"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.unidadMedida}" />
									</p:column>
									<p:column headerText="Cantidad">
										<f:facet name="header">
											<h:outputText value="Cantidad"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.cantidadSolicitadaSiga}" />
									</p:column>
									<p:column
										headerText="Precio Total (Consignar moneda del valor referencial)">
										<f:facet name="header">
											<h:outputText
												value="Precio Total (Consignar moneda del valor referencial)"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.valorReferencialTotal}" />
									</p:column>
									<p:column
										headerText="Procedimiento y/o metodología utilizadopara determinar el V.R.">
										<f:facet name="header">
											<h:outputText
												value="Procedimiento y/o metodología utilizadopara determinar el V.R."></h:outputText>
										</f:facet>
										<h:outputText value="#{var.procedimientoVrDesc}" />
									</p:column>
									<p:column headerText="Valor Referencial del Item">
										<f:facet name="header">
											<h:outputText value="Valor Referencial del Item"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.valorReferencialItem}" />
									</p:column>
								</p:dataTable>
							</h:panelGrid>
						</p:fieldset>
						
						<!--  
						<p:spacer height="30"></p:spacer>
						<p:commandButton value="Finalizar" icon="fa fa-check"
							title="Finalizar registro de cuadro comparativo"
							disabled="{!programacion.esSeleccionado}"
							action="{programacion.guardarDatosGenerales}"
							rendered="{programacion.renderButton('btnGuadarDatosGenerales')}"
							update="form:msgs" />
							-->
					</p:tab>
					<p:tab title="Orden" disabled="#{programacion.disabledTabOrden}">
						<p:accordionPanel id="accOrden" multiple="true"
							activeIndex="0,1,2,3">
							<p:tab title="Orden">
								<p:dataTable id="tblListaOrden"
									value="#{programacion.listaOrden}" var="var"
									emptyMessage="No se encontraron registros"
									widgetVar="tblListaOrden" paginator="false"
									rows="#{sisabascontrol.registros_mant}"
									paginatorPosition="bottom" selectionMode="single"
									rowKey="#{var.nroOrden}" styleClass="gandalfTableClass">
									<p:column headerText="Número Orden">
										<f:facet name="header">
											<h:outputText value="Número Orden"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.nroOrden}" />
									</p:column>
									<p:column headerText="Fecha Orden">
										<f:facet name="header">
											<h:outputText value="Fecha Orden">
											</h:outputText>
										</f:facet>
										<h:outputText value="#{var.fechaOrden}">
											<f:convertDateTime pattern="dd/MM/yyyy" />
										</h:outputText>
									</p:column>
									<p:column headerText="Tipo de bien">
										<f:facet name="header">
											<h:outputText value="Tipo de bien"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.tipoBienDesc}" />
									</p:column>
									<p:column headerText="Nro. RUC">
										<f:facet name="header">
											<h:outputText value="Nro. RUC"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.nroRuc}" />
									</p:column>
									<p:column headerText="Proveedor">
										<f:facet name="header">
											<h:outputText value="Proveedor"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.nombreProveedor}" />
									</p:column>
									<p:column headerText="Importe Orden">
										<f:facet name="header">
											<h:outputText value="Importe Orden"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.totalFactSoles}" />
									</p:column>
									<p:column headerText="Importe devengado">
										<f:facet name="header">
											<h:outputText value="Importe devengado"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.importeDevengado}" />
									</p:column>
									<p:column headerText="Expediente SIAF">
										<f:facet name="header">
											<h:outputText value="Expediente SIAF"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.nroExpedienteSiaf}" />
									</p:column>
									<p:column headerText="Estado SIAF">
										<f:facet name="header">
											<h:outputText value="Estado SIAF"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.estadoSiafDesc}" />
									</p:column>
								</p:dataTable>
								<p:dataTable id="tblListaOrdenEdit"
									value="#{programacion.listaOrden}" var="var"
									emptyMessage="No se encontraron registros"
									widgetVar="tblListaOrden" paginator="false"
									rows="#{sisabascontrol.registros_mant}"
									paginatorPosition="bottom" selectionMode="single"
									rowKey="#{var.nroOrden}" styleClass="gandalfTableClass"
									editable="true">

									<!-- 
									<p:ajax event="cellEdit" listener="{programacion.onCellEdit}"
										update=":form:msgs" />
 									-->
									<p:ajax event="rowEdit" listener="#{programacion.onRowEdit}"
										update=":form:msgs,form:tabViewPao:accEntregable:tblListaEntregable" />
									<p:ajax event="rowEditCancel"
										listener="#{programacion.onRowCancel}" update=":form:msgs" />

									<p:column headerText="Número Orden">
										<f:facet name="header">
											<h:outputText value="Número Orden"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.nroOrden}" />
									</p:column>
									<p:column headerText="Aramadas">
										<p:cellEditor>
											<f:facet name="header">
												<f:facet name="output">
													<h:outputText value="#{var.armadas}" />
												</f:facet>
											</f:facet>
											<f:facet name="input">
												<p:inputNumber value="#{var.armadas}" style="width:100%"
													label="Year" maxlength="2" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Inicio de prestación">
										<p:cellEditor>
											<f:facet name="header">
												<f:facet name="output">
													<h:outputText value="#{var.fechaInicioPrestacion}">
														<f:convertDateTime pattern="dd/MM/yyyy"></f:convertDateTime>
													</h:outputText>
												</f:facet>
											</f:facet>
											<f:facet name="input">
												<p:calendar value="#{var.fechaInicioPrestacion}"
													required="false" pattern="dd/MM/yyyy"
													label="Fecha Consentimiento Buena Pro" navigator="true"
													locale="es" styleClass="dateTimeField" style="width:100%" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Plazo (días)">
										<p:cellEditor>
											<f:facet name="header">
												<f:facet name="output">
													<h:outputText value="#{var.plazo}" />
												</f:facet>
											</f:facet>
											<f:facet name="input">
												<p:inputNumber value="#{var.plazo}" style="width:100%"
													label="Year" maxlength="2" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Fin prestación">
										<f:facet name="header">
											<h:outputText value="Fin prestación">
											</h:outputText>
										</f:facet>
										<h:outputText value="#{var.fechaFinPrestacion}">
											<f:convertDateTime pattern="dd/MM/yyyy" />
										</h:outputText>
									</p:column>
									<p:column headerText="Acciones">
										<p:rowEditor editTitle="Editar" />
									</p:column>
								</p:dataTable>
							</p:tab>
						</p:accordionPanel>
						<p:accordionPanel id="accEntregable" multiple="true"
							activeIndex="0,1,2,3,4">
							<p:tab title="Control de entregables">
								<p:dataTable id="tblListaEntregable"
									value="#{programacion.listaEntregable}" var="var"
									emptyMessage="No se encontraron registros"
									widgetVar="tblListaEntregable" paginator="false"
									rows="#{sisabascontrol.registros_mant}"
									paginatorPosition="bottom" selectionMode="single"
									rowKey="#{var.nroentregable}" styleClass="gandalfTableClass"
									editable="true">

									<!-- 
									<p:ajax event="rowEdit" listener="{programacion.onRowEdit}"
										update=":form:growl" />
									<p:ajax event="rowEditCancel"
										listener="{programacion.onRowCancel}" update=":form:growl" />
										 -->
									<!-- 
									<p:column headerText="proveido">
										<h:outputText value="UGME" />
									</p:column>
									 -->
									<p:column headerText="Fecha">
										<p:cellEditor>
											<f:facet name="header">
												<f:facet name="output">
													<h:outputText value="#{var.fechapresentacionentregable}">
														<f:convertDateTime pattern="dd/MM/yyyy"></f:convertDateTime>
													</h:outputText>
												</f:facet>
											</f:facet>
											<f:facet name="input">
												<p:calendar value="#{var.fechapresentacionentregable}"
													required="false" pattern="dd/MM/yyyy" label="Fecha"
													navigator="true" locale="es" styleClass="dateTimeField" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Descripción">
										<f:facet name="header">
											<h:outputText value="Descripción"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.nroentregable}" />
									</p:column>
									<p:column headerText="Plazos (días)">
										<p:cellEditor>
											<f:facet name="header">
												<f:facet name="output">
													<h:outputText value="#{var.plazoentregable}" />
												</f:facet>
											</f:facet>
											<f:facet name="input">
												<p:inputNumber value="#{var.plazoentregable}"
													style="width:100%" label="Year" maxlength="2" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Importe">
										<p:cellEditor>
											<f:facet name="header">
												<f:facet name="output">
													<h:outputText value="#{var.montoentregable}" />
												</f:facet>
											</f:facet>
											<f:facet name="input">
												<p:inputNumber value="#{var.montoentregable}"
													style="width:100%" label="Year" maxlength="2" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Monto de penalidad">
										<p:cellEditor>
											<f:facet name="header">
												<f:facet name="output">
													<h:outputText value="#{var.montopenalidadentregable}" />
												</f:facet>
											</f:facet>
											<f:facet name="input">
												<p:inputNumber value="#{var.montopenalidadentregable}"
													style="width:100%" label="Year" maxlength="20"
													decimalPlaces="2" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Observaciones">
										<p:cellEditor>
											<f:facet name="header">
												<f:facet name="output">
													<h:outputText value="#{var.observacionesentregable}" />
												</f:facet>
											</f:facet>
											<f:facet name="input">
												<p:inputText value="#{var.observacionesentregable}"
													style="width:100%" label="Year" maxlength="500" />
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Estado">
										<p:cellEditor>
											<f:facet name="header">
												<f:facet name="output">
													<h:outputText value="#{var.idcatalogoestadoentregable}" />
												</f:facet>
											</f:facet>
											<f:facet name="input">
												<p:selectOneMenu value="#{var.idcatalogoestadoentregable}"
													id="dllIdcatalogoestadoentregable" required="false"
													label="Estado">
													<f:selectItem itemLabel="--Seleccione--" itemValue="" />
													<f:selectItems
														value="#{programacion.listaGentablaIdcatalogoestadoentregable}"
														var="var" itemLabel="#{var.vchregdescri}"
														itemValue="#{var.vchregcodigo}" />
												</p:selectOneMenu>
											</f:facet>
										</p:cellEditor>
									</p:column>
									<p:column headerText="Acciones">
										<p:rowEditor editTitle="Editar" />
									</p:column>
								</p:dataTable>
							</p:tab>
						</p:accordionPanel>
						<!-- 
						<p:accordionPanel multiple="true" activeIndex="0,1,2,3,4">
							<p:tab title="Requisitos de conformidad">
								<p:dataTable>
									<p:column headerText="N°">
										<h:outputText value="1" />
									</p:column>
									<p:column headerText="Tipo de documento">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Fecha">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Archivo">
										<h:outputText value="UGME" />
									</p:column>
									<p:column headerText="Acciones">
										<h:outputText value="UGME" />
									</p:column>
								</p:dataTable>
							</p:tab>
						</p:accordionPanel>		
						 -->
						<p:accordionPanel multiple="true" activeIndex="0,1,2,3,4">
							<p:tab title="Seguimiento de pagos">
								<p:dataTable id="tblListaPagosSiaf"
									value="#{programacion.listaSeguimientoPagosSiaf}" var="var"
									emptyMessage="No se encontraron registros"
									widgetVar="tblListaPagosSiaf" paginator="true"
									paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} Total registros: #{fn:length(programacion.listaSeguimientoPagosSiaf)}"
									rows="#{sisabascontrol.registros_mant}"
									paginatorPosition="bottom" selectionMode="single"
									rowKey="#{var.expediente}" styleClass="gandalfTableClass">
									<p:column headerText="Ciclo">
										<f:facet name="header">
											<h:outputText value="Cilco"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.ciclo}" />
									</p:column>
									<p:column headerText="Fase">
										<f:facet name="header">
											<h:outputText value="Fase"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.fase}" />
									</p:column>
									<p:column headerText="Tipo de documento">
										<f:facet name="header">
											<h:outputText value="Tipo de documento"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.tipoDocumentoDesc}" />
									</p:column>
									<p:column headerText="Número documento">
										<f:facet name="header">
											<h:outputText value="Número documento"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.nroDocumento}" />
									</p:column>
									<p:column headerText="Fecha Doc.">
										<f:facet name="header">
											<h:outputText value="Fecha Doc."></h:outputText>
										</f:facet>
										<h:outputText value="#{var.fechaDocumento}" />
									</p:column>
									<p:column headerText="Monto">
										<f:facet name="header">
											<h:outputText value="Monto"></h:outputText>
										</f:facet>
										<h:outputText value="#{var.monto}" />
									</p:column>
								</p:dataTable>
							</p:tab>
						</p:accordionPanel>
						<p:commandButton value="Guardar" icon="fa fa-pencil"
							title="Guardar datos generales"
							disabled="#{programacion.disabledButtons}"
							action="#{programacion.guardarOrden}"
							rendered="#{programacion.renderButton('btnGuadarDatosGenerales')}"
							update="form:msgs" />
						<p:commandButton value="Cancelar" action="#{programacion.load}"
							ajax="false" icon="ui-icon-arrowreturnthick-1-w" title="Cancelar" />
					</p:tab>
				</p:tabView>

				<!-- DIALOGS -->
				<p:confirmDialog id="cdEliminarFuente"
					message="Esta seguro de eliminar este registro?"
					header="Confirmación" severity="alert" widgetVar="cdEliminarFuente">
					<p:commandButton value="Si" action="#{programacion.eliminarFuente}"
						update=":form:tabViewPao:tblListaCuadrocomparativofuente,:form:growl"
						oncomplete="hideDialogPF('cdEliminarFuente');" />
					<p:commandButton value="No"
						onclick="hideDialogPF('cdEliminarFuente');" type="button" />
				</p:confirmDialog>
			</p:panel>
		</h:form>
		<h:form id="frmCuadrocomparativofuenteRegistrar">
			<p:dialog id="diCuadrocomparativofuenteRegistrar"
				header="Cuadro comparativo"
				widgetVar="diCuadrocomparativofuenteRegistrar" resizable="false"
				modal="true" dynamic="true">
				<p:scrollPanel mode="native" style="width:100%;height:100%;">
					<p:messages for="msgsCuadrocomparativofuenteR" autoUpdate="true"
						closable="true" />
					<ui:include
						src="/pages/pao/component/c_cuadrocomparativofuenteRegistrar.xhtml" />
				</p:scrollPanel>
				<table style="width: 100%;">
					<tr>
						<td><h:inputHidden id="hidStatus" value="true" /> <p:commandButton
								value="Aceptar" action="#{programacion.aceptarFuente}"
								disabled="#{programacion.disabledButtonsCD}"
								update="hidStatus,:form:tabViewPao:tblListaCuadrocomparativofuente,:form:tabViewPao:tblListaCuadrocomparativoVrFinal,:form:growl,:form:tabViewPao:pnlBotones,panelC"
								oncomplete="hideDialog('frmCuadrocomparativofuenteRegistrar:hidStatus','frmCuadrocomparativofuenteRegistrar:tabViewPao:diCuadrocomparativofuenteRegistrar')"
								icon="ui-icon-circle-check" title="Aceptar" /></td>
						<td>
							<div align="right">
								<p:commandButton value="Salir"
									icon="ui-icon-arrowreturnthick-1-w" title="Salir"
									onclick="hideDialogPF('frmCuadrocomparativofuenteRegistrar:diCuadrocomparativofuenteRegistrar');return false;" />
							</div>
						</td>
					</tr>
				</table>
			</p:dialog>
		</h:form>

		<h:form id="frmControlProductoRegistrar">
			<p:dialog id="diControlProductoRegistrar"
				header="Control de producto" widgetVar="diControlProductoRegistrar"
				resizable="false" modal="true" dynamic="true">
				<p:scrollPanel mode="native" style="width:100%;height:100%;">
					<p:messages for="msgsControlProducto" autoUpdate="true"
						closable="true" />
					<ui:include
						src="/pages/pao/component/c_requisitosconformidadRegistrar.xhtml" />
				</p:scrollPanel>
				<table style="width: 100%;">
					<tr>
						<td><h:inputHidden id="hidStatus" value="true" /> <p:commandButton
								value="Aceptar" action="#{programacion.aceptarControl}"
								update="hidStatus,:form:tabViewPao:accDatosGenerales:tblListaControl,:form:growl,:form:tabViewPao:accDatosGenerales:pnlBotonesControl,panelC"
								oncomplete="hideDialog('frmControlProductoRegistrar:hidStatus','frmControlProductoRegistrar:tabViewPao:diControlProductoRegistrar')"
								icon="ui-icon-circle-check" title="Aceptar" /></td>
						<td>
							<div align="right">
								<p:commandButton value="Salir"
									icon="ui-icon-arrowreturnthick-1-w" title="Salir"
									onclick="hideDialogPF('frmControlProductoRegistrar:diControlProductoRegistrar');return false;" />
							</div>
						</td>
					</tr>
				</table>
			</p:dialog>
		</h:form>
	</ui:define>

</ui:composition>