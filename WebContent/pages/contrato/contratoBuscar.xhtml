<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" lang="es"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:func="http://resources/functions"
	xmlns:cc="http://java.sun.com/jsf/composite/components"
	template="/pages/template/MasterPage.xhtml">
	<ui:define name="center">



		<script>
			function myFunction() {

				document.getElementById("frmPrestacion").reset();
			}

			function myFunctionPago() {

				document.getElementById("frmPago").reset();
			}

			function myFunction2() {

				document.getElementById("frmComite").reset();
			}

			function myFunction3() {

				document.getElementById("form").reset();
			}

			function myFunction4() {

				document.getElementById("frmPrestacion2").reset();
			}
		</script>

		<style>
		
.tableColumnHeader{
   text-decoration: none;
   color: black;
}
		
.panelMarco {
	border: 1px solid #d5d5d5;
	background: #cdeef3;
	color: #222;
	border-style: none !important;
}

.panelMarco2 {
	border: 1px solid #d5d5d5;
	background: #fff;
	color: #222;
	border-style: none !important;
}

.ui-panelgrid td, .ui-panelgrid tr {
	border-style: none !important
}

.fa-remove {
	color: red;
}

.ui-tabs-outline {
	color: #000;
}

.ui-accordion .ui-accordion-header {
	cursor: pointer;
	position: relative;
	margin-top: 1px;
	min-height: 0;
	padding: .5em .5em .5em 2.2em;
	background: #0d6ab9;
	color: #ffffff;
}

.ui-accordion .ui-accordion-header.ui-state-active {
	background: #fff;
	border-left: 0 none;
	border-right: 0 none;
	-webkit-border-radius: 0;
	-moz-border-radius: 0;
	border-radius: 0;
	background: #0d6ab9;
}

a:-webkit-any-link {
    color: -webkit-link;
    cursor: pointer;
    text-decoration: none;
}
</style>


	<p:panel id="panel"
					header="Contratos » Opciones de Búsqueda"
					style="width:98%;">
    
     <h:form id="form">
      <p:focus for="panel" />
      <p:messages id="msgsForm" for="msgsForm" autoUpdate="true" closable="true" showDetail="true" />
	  <p:growl id="growl" showDetail="true" life="2500" />
      <p:panel id="entrada">
        <table style="width: 100%;" cellpadding="0" cellspacing="5">
           <tr>
             <td><p:outputLabel value="Tipo de proceso(SIGA)" /></td>
             <td><p:selectOneMenu value="#{contrato.contratoRequest.tipoProceso}" id="ddlTipoProceso" >
												<f:selectItem itemLabel="--Seleccione--" itemValue="" />
												<f:selectItems value="#{programacion.listaTipoProceso}"
													var="var" itemLabel="#{var.descripcion}"
													itemValue="#{var.codigo}" />
											</p:selectOneMenu>
			 </td>
			 <td><p:outputLabel for="txtIdcatalogotipobien" value="Número de proceso(SIGA)" /></td>
			 <td><p:inputText id="txtIdcatalogotipobien" value="#{contrato.contratoRequest.numeroProceso}" style="width:150px;"/>
			 </td>
			 
			 <td><p:outputLabel for="txtIdEstadoPedido" value="Número de contrato(SIGA)" /></td>
			 <td><p:inputText id="txtIdEstadoPedido" value="#{contrato.contratoRequest.numeroContrato}" style="width:125px"/>
		     </td>
           </tr>
        </table>
        
        <p:panel id="mostrar" style="border: none;" >
	        <p:commandLink actionListener="#{contrato.mostrar}" update="form:mostrar,form:avanzado" rendered="#{not contrato.avanzado}"  styleClass="tableColumnHeader">
	          <i class="fa fa-chevron-down" style="color:#034f84;"></i>
	          <p:outputLabel value=" Mostrar búsqueda avanzada" />
	        </p:commandLink>
	        <p:commandLink actionListener="#{contrato.ocultar}" update="form:mostrar,form:avanzado" rendered="#{contrato.avanzado}">
	          <i class="fa fa-chevron-up" style="color:#034f84;"></i>
	          <p:outputLabel value=" Ocultar búsqueda avanzada" />
	        </p:commandLink>
	     </p:panel>   
	        
        <p:panel id="avanzado" style="border: none; background:#f2f5f7;">
				    
	                    <table style="width: 100%;" cellpadding="0" cellspacing="5">
	                      <tr>
								<td><p:outputLabel value="Tipo de bien" rendered="#{contrato.avanzado}"/></td>
								<td>
								   <p:selectOneMenu id="inputText1" rendered="#{contrato.avanzado}" value="#{contrato.contratoRequest.tipoBien}" style="width:150px;">
									<f:selectItem itemLabel="TODOS" itemValue="" />
									<f:selectItem itemLabel="BIEN" itemValue="B" />
									<f:selectItem itemLabel="SERVICIO" itemValue="S" />
								   </p:selectOneMenu>
								</td>
								<td><p:outputLabel value="Fecha de contrato" rendered="#{contrato.avanzado}"/></td>
								<td><p:calendar id="inputText2" rendered="#{contrato.avanzado}" value="#{contrato.contratoRequest.fechaContrato}"/></td>
								<td><p:outputLabel value="Estado" rendered="#{contrato.avanzado}"/></td>
								
								<td>
								<p:selectOneMenu id="inputText3" rendered="#{contrato.avanzado}" value="#{contrato.contratoRequest.estado}" style="width:150px;">
									<f:selectItem itemLabel="TODOS" itemValue="" />
									<f:selectItems value="#{contrato.listaEstadoRequerimiento}" var="var" itemLabel="#{var.descripcion}" itemValue="#{var.id}" />
								</p:selectOneMenu>
								</td>

	                      </tr>
	                      <tr>
	                            <td><p:outputLabel value="Centro de costo" rendered="#{contrato.avanzado}" for="inputText4"/></td>
								
								
								<td>
		                        	<p:inputText  id="inputText4" value="#{pedido.pedidoB.vcentrocostoCodigocentrocosto.nombredependencia}" disabled="true" maxlength="15" style="width:150px;" label="Centro costo" rendered="#{contrato.avanzado}"/>
			                        <p:commandButton icon="ui-icon-search" action="#{cc_vcentrocosto.init}"  oncomplete="showDialogPF('frmMainCodigocentrocostoBuscar:diVcentrocostoBuscar');" update=":frmMainCodigocentrocostoBuscar:diVcentrocostoBuscar" style="width:20px;height:20px;" title="Buscar"  disabled="false"/>
			                        <p:commandButton icon="ui-icon-close" action="#{pedido.resetMainCodigocentrocosto}"  update="inputText4" style="width:20px;height:20px;" title="Borrar Filtro" immediate="true" disabled="false"/>
		                       </td>

								
	                      </tr>
	                    </table>	
          </p:panel>
        
      </p:panel>
     </h:form>	
       <table  style="width: 100%;" cellpadding="0" cellspacing="0" border="0">
        <tr>
	      <td>
	        <p:spacer width="10" height="22" />
			<p:commandButton  id="btnBuscar" value="Buscar" icon="fa fa-search" title="Buscar" />	
			<p:spacer width="10"/>		
	        <p:commandLink  value="Limpiar" style="color:#034f84;">
			</p:commandLink>
		  </td>
		  <td valign="top">
			<div align="right" style="margin-top: 12px;">
				<h:panelGroup id="imprimir">
					 <p:commandButton value="Imprimir" action="#{requerimiento.imprimir}" icon="fa fa-print" />
				</h:panelGroup>
				<p:spacer height="3" />
				<p:commandButton value="Salir"  icon="fa fas fa-minus-circle" title="Salir" />
			</div>
		 </td>
		</tr>
		<tr>
		  <td>
		     <p:spacer width="10" height="25" />
		     <i class="fa fa-circle-thin" style="color:black;"></i><p:spacer width="10"/><p:outputLabel value="Pendiente"/><p:spacer width="10"/>
		     <i class="fa fa-circle" style="color:yellow;"></i><p:spacer width="10"/><p:outputLabel value="En proceso"/><p:spacer width="10"/>
		     <i class="fa fa-circle" style="color:green;"></i><p:spacer width="10"/><p:outputLabel value="Tramitado"/><p:spacer width="10"/>
		  </td>
		
		</tr>		
	   </table>
	   <br/>   
	   <p:dataTable id="tblListaRequerimiento"                                                                                                
					value="#{contrato.listaContratos}" var="var"
					emptyMessage="No se encontraron contratos"
					widgetVar="tblListaRequerimiento"
					selection="#{pedido.selectedPedido}" paginator="true"
					rows="#{sisabascontrol.registros_mant}" paginatorPosition="bottom"
					paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} Total registros: #{fn:length(requerimiento.listaRequerimientos)}"
					rowKey="#{var.nroPedido}" styleClass="gandalfTableClass">
					<p:ajax event="rowSelect" listener="#{pedido.seleccionItem}" immediate="true" />

					<p:column styleClass="c_center" exportable="false" width="9%">
						<f:facet name="header">
							<h:outputText value="Acciones" styleClass="c_center" />
						</f:facet>
					</p:column>
					
					<p:column styleClass="c_center" sortBy="#{var.nropedido}" exportable="#{requerimiento.value1}" width="6%">
						<f:facet name="header">
							<h:outputText value="Número" styleClass="c_center" />
						</f:facet>
						<h:outputText value="----------" />
					</p:column>

					<p:column styleClass="c_center" sortBy="#{var.estadoDocumentacion}" exportable="#{requerimiento.value8}">
						<f:facet name="header">
							<h:outputText value="Estado documentación" styleClass="c_center" />
						</f:facet>
						<h:outputText value="#{var.estadoDocumentacion}" />
					</p:column>

					<p:column styleClass="c_center" sortBy="#{var.tipoProceso}" exportable="#{requerimiento.value9}">
						<f:facet name="header">
							<h:outputText value="Tipo de proceso" styleClass="c_center" />
						</f:facet>
						<h:outputText value="#{var.tipoProceso}" />
					</p:column>

					<p:column styleClass="c_string" sortBy="#{var.nroProceso}"
						exportable="#{requerimiento.value2}" width="10%">
						<f:facet name="header">
							<h:outputText value="Número de proceso" styleClass="c_center" />
						</f:facet>
						<h:outputText value="#{var.nroProceso}" />
					</p:column>

					<p:column styleClass="c_center" sortBy="#{var.tipoBien}"
						exportable="#{requerimiento.value3}" width="9%">
						<f:facet name="header">
							<h:outputText value="Tipo de bien" styleClass="c_center" />
						</f:facet>
						<h:outputText value="#{var.tipoBien}" />
					</p:column>

					<p:column styleClass="c_numeric" sortBy="#{var.nroContrato}"
						exportable="#{requerimiento.value4}" width="10%">
						<f:facet name="header">
							<h:outputText value="Número de contrato SIGA" styleClass="c_center" />
						</f:facet>
						<h:outputText value="#{var.nroContrato}" styleClass="c_center" />
					</p:column>
					<p:column styleClass="c_string" sortBy="#{var.tipoContrato}"
						exportable="#{requerimiento.value5}"
						width="10%">
						<f:facet name="header">
							<h:outputText value="Tipo de contrato" styleClass="c_center" />
						</f:facet>
						<h:outputText value="#{var.tipoContrato}" />
					</p:column>

					<p:column styleClass="c_string" sortBy="#{var.fechaContrato}"
						exportable="#{requerimiento.value6}"  width="8%">
						<f:facet name="header">
							<h:outputText value="Fecha contrato" styleClass="c_center" />
						</f:facet>
						<h:outputText value="#{var.fechaContrato}" />
					</p:column>
					<p:column styleClass="c_string"
						exportable="#{requerimiento.value7}"
						sortBy="#{var.numeroExpedienteSinad}">
						<f:facet name="header">
							<h:outputText value="Centro de costo" styleClass="c_center" />
						</f:facet>
						<h:outputText value="----------" />
					</p:column>
				</p:dataTable>
	   
 	 </p:panel>
 	 
 	 <h:form id="frmMainCodigocentrocostoBuscar">
		<p:dialog id="diVcentrocostoBuscar" header="VCentroCosto » Buscar" widgetVar="diVcentrocostoBuscar" resizable="false" modal="true" dynamic="true">
		<p:messages for="msgsCC_Vcentrocosto" autoUpdate="true" closable="true"/>
		 <cc:cc_vcentrocostoBuscar
		 ajaxEventListener="#{pedido.loadMainCodigocentrocosto}"
		 actionOncomplete="hideDialogPF('frmMainCodigocentrocostoBuscar:diVcentrocostoBuscar');"
		 actionUpdate=":form:txtCodigocentrocosto"/>
		</p:dialog>
   </h:form>

 	 
</ui:define>
</ui:composition>
