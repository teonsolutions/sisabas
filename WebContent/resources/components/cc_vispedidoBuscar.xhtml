<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	lang="es"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:p="http://primefaces.org/ui">
	<composite:interface componentType="customComponent">
	<composite:attribute name="ajaxEventListener" method-signature="void listener(org.primefaces.event.SelectEvent)" />
	<composite:attribute name="actionOncomplete" type="java.lang.String"/>
	<composite:attribute name="actionUpdate"  type="java.lang.String"/>
	</composite:interface>
	<composite:implementation>
	<p:panel id="pnlCBuscar">
	<p:panel>
	<table style="width: 100%;" cellpadding="0" cellspacing="5">

		<tr>
			<td>
				<p:outputLabel  value="IdPedidoSiga" for="txtIdvpedido"/>
			</td>
			<td>
				<h:inputText  id="txtIdvpedido" value="#{cc_vispedido.vispedidoB.idvpedido}" maxlength="10" style="width:150px;" label="IdPedidoSiga"/>
			</td>
			<td>
				<p:outputLabel  value="CodigoUnidadEjecutora" for="txtCodigounidadejecutora"/>
			</td>
			<td>
				<h:inputText  id="txtCodigounidadejecutora" value="#{cc_vispedido.vispedidoB.codigounidadejecutora}" maxlength="3" style="width:150px;" label="CodigoUnidadEjecutora"/>
			</td>
			<td>
				<p:outputLabel  value="Anio" for="txtAnio"/>
			</td>
			<td>
				<h:inputText  id="txtAnio" value="#{cc_vispedido.vispedidoB.anio}" maxlength="4" style="width:150px;" label="Anio"/>
			</td>
	</tr>
	<tr>
			<td>
				<p:outputLabel  value="SecEjec" for="txtSecejec"/>
			</td>
			<td>
				<h:inputText  id="txtSecejec" value="#{cc_vispedido.vispedidoB.secejec}" maxlength="6" style="width:150px;" label="SecEjec"/>
			</td>
			<td>
				<p:outputLabel  value="TipoBien" for="txtTipobien"/>
			</td>
			<td>
				<h:inputText  id="txtTipobien" value="#{cc_vispedido.vispedidoB.tipobien}" maxlength="1" style="width:150px;" label="TipoBien"/>
			</td>
			<td>
				<p:outputLabel  value="TipoPedido" for="txtTipopedido"/>
			</td>
			<td>
				<h:inputText  id="txtTipopedido" value="#{cc_vispedido.vispedidoB.tipopedido}" maxlength="1" style="width:150px;" label="TipoPedido"/>
			</td>
	</tr>
	<tr>
			<td>
				<p:outputLabel  value="NroPedido" for="txtNropedido"/>
			</td>
			<td>
				<h:inputText  id="txtNropedido" value="#{cc_vispedido.vispedidoB.nropedido}" maxlength="5" style="width:150px;" label="NroPedido"/>
			</td>
			<td>
				<p:outputLabel  value="CodigoCentroCosto" for="txtCodigocentrocosto"/>
			</td>
			<td>
				<h:inputText  id="txtCodigocentrocosto" value="#{cc_vispedido.vispedidoB.codigocentrocosto}" maxlength="15" style="width:150px;" label="CodigoCentroCosto"/>
			</td>
			<td>
				<p:outputLabel  value="NombreDependencia" for="txtNombredependencia"/>
			</td>
			<td>
				<h:inputText  id="txtNombredependencia" value="#{cc_vispedido.vispedidoB.nombredependencia}" maxlength="100" style="width:300px;" label="NombreDependencia"/>
			</td>
	</tr>
	<tr>
		<td>
			<p:outputLabel  value="FechaPedido" for="txtFechapedido"/>
		</td>
		<td>
			<p:calendar   id="txtFechapedido" value="#{cc_vispedido.vispedidoB.fechapedido}" label="FechaPedido" navigator="true" styleClass="dateTimeField"/>
		</td>
		<td>
			<p:outputLabel  value="FechaAprobacion" for="txtFechaaprobacion"/>
		</td>
		<td>
			<p:calendar   id="txtFechaaprobacion" value="#{cc_vispedido.vispedidoB.fechaaprobacion}" label="FechaAprobacion" navigator="true" styleClass="dateTimeField"/>
		</td>
			<td>
				<p:outputLabel  value="MotivoPedido" for="txtMotivopedido"/>
			</td>
			<td>
				<h:inputText  id="txtMotivopedido" value="#{cc_vispedido.vispedidoB.motivopedido}" maxlength="2147483647" style="width:300px;" label="MotivoPedido"/>
			</td>
	</tr>
	<tr>
			<td>
				<p:outputLabel  value="SecFunc" for="txtSecfunc"/>
			</td>
			<td>
				<h:inputText  id="txtSecfunc" value="#{cc_vispedido.vispedidoB.secfunc}" maxlength="4" style="width:150px;" label="SecFunc"/>
			</td>
			<td>
				<p:outputLabel  value="TipoTarea" for="txtTipotarea"/>
			</td>
			<td>
				<h:inputText  id="txtTipotarea" value="#{cc_vispedido.vispedidoB.tipotarea}" maxlength="1" style="width:150px;" label="TipoTarea"/>
			</td>
			<td>
				<p:outputLabel  value="NivelTarea" for="txtNiveltarea"/>
			</td>
			<td>
				<h:inputText  id="txtNiveltarea" value="#{cc_vispedido.vispedidoB.niveltarea}" maxlength="1" style="width:150px;" label="NivelTarea"/>
			</td>
	</tr>
	<tr>
			<td>
				<p:outputLabel  value="CodigoTarea" for="txtCodigotarea"/>
			</td>
			<td>
				<h:inputText  id="txtCodigotarea" value="#{cc_vispedido.vispedidoB.codigotarea}" maxlength="10" style="width:150px;" label="CodigoTarea"/>
			</td>
			<td>
				<p:outputLabel  value="MesPedido" for="txtMespedido"/>
			</td>
			<td>
				<h:inputText  id="txtMespedido" value="#{cc_vispedido.vispedidoB.mespedido}" maxlength="2" style="width:150px;" label="MesPedido"/>
			</td>
			<td>
				<p:outputLabel  value="Estado" for="txtEstado"/>
			</td>
			<td>
				<h:inputText  id="txtEstado" value="#{cc_vispedido.vispedidoB.estado}" maxlength="1" style="width:150px;" label="Estado"/>
			</td>
		</tr>

		<tr>
			<td colspan="6">
				<p:commandButton id="btnCVispedido" widgetVar="btnCVispedido"  value="Buscar" process="@form" actionListener="#{cc_vispedido.buscar}" update="tblListaVispedidoBuscar,pnlCBuscar" icon="ui-icon-search"/>
			</td>
		</tr>
	</table>
	</p:panel>

	<p:dataTable id="tblListaVispedidoBuscar" widgetVar="tblListaVispedidoBuscar" value="#{cc_vispedido.listaVispedido}" var="var" emptyMessage="No se encontraron registros"  
	selection="#{cc_vispedido.selectedVispedido}"
	selectionMode="single" rowKey="#{var.idvpedido}"
	paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} Total registros: #{fn:length(cc_vispedido.listaVispedido)}"
	paginator="true" rows="#{sisabascontrol.registros_mant}" paginatorPosition="bottom">
	<p:ajax event="rowSelect" listener="#{cc.ajaxEventListener}" oncomplete="#{cc.attrs.actionOncomplete}" update="#{cc.attrs.actionUpdate}" immediate="true"/>
		<p:column headerText="IdPedidoSiga" styleClass="c_numeric">
			<h:outputText value="#{var.idvpedido}" />
		</p:column>
		<p:column headerText="CodigoUnidadEjecutora" styleClass="c_center">
			<h:outputText value="#{var.codigounidadejecutora}" />
		</p:column>
		<p:column headerText="Anio" styleClass="c_center">
			<h:outputText value="#{var.anio}" />
		</p:column>
		<p:column headerText="SecEjec" styleClass="c_center">
			<h:outputText value="#{var.secejec}" />
		</p:column>
		<p:column headerText="TipoBien" styleClass="c_center">
			<h:outputText value="#{var.tipobien}" />
		</p:column>
		<p:column headerText="TipoPedido" styleClass="c_center">
			<h:outputText value="#{var.tipopedido}" />
		</p:column>
		<p:column headerText="NroPedido" styleClass="c_center">
			<h:outputText value="#{var.nropedido}" />
		</p:column>
		<p:column headerText="CodigoCentroCosto" styleClass="c_string">
			<h:outputText value="#{var.codigocentrocosto}" />
		</p:column>
		<p:column headerText="NombreDependencia" styleClass="c_string">
			<h:outputText value="#{var.nombredependencia}" />
		</p:column>
		<p:column headerText="FechaPedido" styleClass="c_string">
			<h:outputText value="#{var.fechapedido}" />
		</p:column>
		<p:column headerText="FechaAprobacion" styleClass="c_string">
			<h:outputText value="#{var.fechaaprobacion}" />
		</p:column>
		<p:column headerText="MotivoPedido" styleClass="c_string">
			<h:outputText value="#{var.motivopedido}" />
		</p:column>
		<p:column headerText="SecFunc" styleClass="c_center">
			<h:outputText value="#{var.secfunc}" />
		</p:column>
		<p:column headerText="TipoTarea" styleClass="c_center">
			<h:outputText value="#{var.tipotarea}" />
		</p:column>
		<p:column headerText="NivelTarea" styleClass="c_center">
			<h:outputText value="#{var.niveltarea}" />
		</p:column>
		<p:column headerText="CodigoTarea" styleClass="c_center">
			<h:outputText value="#{var.codigotarea}" />
		</p:column>
		<p:column headerText="MesPedido" styleClass="c_center">
			<h:outputText value="#{var.mespedido}" />
		</p:column>
		<p:column headerText="Estado" styleClass="c_center">
			<h:outputText value="#{var.estado}" />
		</p:column>
	</p:dataTable>

	<table style="width: 100%;">
		<tr>
			<td>
				<div align="right">
				<p:commandButton value="Salir" onclick="#{cc.attrs.actionOncomplete};return false;" icon="ui-icon-arrowreturnthick-1-w" title="Salir" />
				</div>
			</td>
		</tr>
	</table>
	</p:panel>
	</composite:implementation>
</html>
